<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <title>LocalMediaSuite – Settings</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="dark" />
  <style>
    :root{--bg:#0a0e13; --card:#0f1420; --border:#1f2a3b; --text:#e6eaf1; --sub:#9aa4b2; --accent:#3b82f6;}
    *{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--text);font:15px/1.45 system-ui,Segoe UI,Roboto,Arial,sans-serif}
    a{color:inherit;text-decoration:none}
    header{position:sticky;top:0;z-index:10;background:#0a0e13cc;backdrop-filter:blur(6px);border-bottom:1px solid var(--border);padding:12px 18px;display:flex;gap:12px;align-items:center}
    .brand{font-weight:800} nav{margin-left:auto;display:flex;gap:10px;font-size:14px}
    nav a{padding:6px 10px;border:1px solid var(--border);border-radius:8px} nav a.active{background:var(--accent);border-color:var(--accent);}
    main{max-width:1100px;margin:22px auto;padding:0 18px;display:grid;gap:18px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:16px}
    .card h2{margin:0 0 8px 0;font-size:16px}
    label{display:block;font-size:12px;color:var(--sub);margin-bottom:6px}
    input,select,textarea{width:100%;background:#0f172a;border:1px solid #233045;color:var(--text);padding:10px;border-radius:8px}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px} @media(max-width:840px){ .row{grid-template-columns:1fr} }
    .actions{display:flex;gap:10px;justify-content:flex-end}
    .btn{background:#1f2937;border:1px solid #2b3b52;color:#e5e7eb;padding:10px 14px;border-radius:8px;cursor:pointer}
    .btn.primary{background:var(--accent);border-color:var(--accent);color:#fff}
    .hint{color:var(--sub);font-size:12px;margin-top:6px}
  </style>
</head>
<body>
  <header>
    <div class="brand">LocalMediaSuite</div>
    <nav>
      <a href="index.html">Home</a>
      <a href="settings.html" class="active">Settings</a>
      <a href="image.html">Bild SFW</a>
      <a href="image_nsfw.html">Bild NSFW</a>
      <a href="video.html">Video SFW</a>
      <a href="video_nsfw.html">Video NSFW</a>
      <a href="catalog.html">Katalog</a>
      <a href="gallery.html">Galerie</a>
    </nav>
  </header>

  <main>
    <div class="card">
      <h2>Allgemein</h2>
      <div class="row">
        <div>
          <label>Instanz‑Name</label>
          <input id="app_name" placeholder="z. B. LocalMediaSuite" />
        </div>
        <div>
          <label>Port</label>
          <input id="port" type="number" placeholder="7860" />
        </div>
      </div>
    </div>

    <div class="card">
      <h2>Pfade</h2>
      <div class="row">
        <div><label>Models‑Ordner</label><input id="path_models" placeholder="C:\mediasuit\models" /></div>
        <div><label>Outputs‑Ordner</label><input id="path_outputs" placeholder="C:\mediasuit\outputs" /></div>
      </div>
      <div class="row" style="margin-top:12px">
        <div><label>Temp</label><input id="path_temp" placeholder="C:\mediasuit\tmp" /></div>
        <div><label>Caches</label><input id="path_cache" placeholder="C:\mediasuit\cache" /></div>
      </div>
      <div class="hint">Diese Pfade nutzt Galerie/Player automatisch.</div>
    </div>

    <div class="card">
      <h2>Geräte</h2>
      <div class="row">
        <div>
          <label>Beschleuniger</label>
          <select id="device">
            <option value="auto">Auto</option>
            <option value="cuda">CUDA</option>
            <option value="rocm">ROCm</option>
            <option value="directml">DirectML</option>
            <option value="cpu">CPU</option>
          </select>
        </div>
        <div>
          <label>VRAM‑Limit (GB)</label>
          <input id="vram" type="number" placeholder="8" />
        </div>
      </div>
    </div>

    <div class="card">
      <h2>Theme</h2>
      <div class="row">
        <div>
          <label>Akzentfarbe</label>
          <select id="theme_accent">
            <option value="#3b82f6">Blau</option>
            <option value="#8b5cf6">Violett</option>
            <option value="#14b8a6">Teal</option>
            <option value="#f59e0b">Amber</option>
          </select>
        </div>
        <div>
          <label>Kachel‑Animation</label>
          <select id="anim">
            <option value="on">An</option>
            <option value="off">Aus</option>
          </select>
        </div>
      </div>
    </div>

    <div class="card">
      <h2>API‑Schlüssel</h2>
      <div class="row">
        <div><label>HuggingFace Token</label><input id="hf_token" placeholder="hf_xxx" /></div>
        <div><label>OpenAI / Kompatibel</label><input id="openai_key" placeholder="sk‑xxx" /></div>
      </div>
    </div>

    <div class="actions">
      <button class="btn" onclick="load()">Zurücksetzen</button>
      <button class="btn primary" onclick="save()">Speichern</button>
    </div>
  </main>

  <script>
    // simple localStorage‑Mock (kann später gegen /api/settings getauscht werden)
    const KEY='lms_settings';
    function load(){
      const s=JSON.parse(localStorage.getItem(KEY)||'{}');
      for(const id of ['app_name','port','path_models','path_outputs','path_temp','path_cache','vram','hf_token','openai_key']){
        if(document.getElementById(id)) document.getElementById(id).value = s[id] ?? '';
      }
      if(s.device) document.getElementById('device').value=s.device;
      if(s.theme_accent) document.getElementById('theme_accent').value=s.theme_accent;
      if(s.anim) document.getElementById('anim').value=s.anim;
    }
    function save(){
      const s={
        app_name:app_name.value, port:port.value,
        path_models:path_models.value, path_outputs:path_outputs.value,
        path_temp:path_temp.value, path_cache:path_cache.value,
        device:device.value, vram:vram.value,
        theme_accent:theme_accent.value, anim:anim.value,
        hf_token:hf_token.value, openai_key:openai_key.value
      };
      localStorage.setItem(KEY, JSON.stringify(s));
      alert('✅ Einstellungen gespeichert');
    }
    load();
  </script>
</body>
</html>
